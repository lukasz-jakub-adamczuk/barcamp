<!DOCTYPE html>
<!-- saved from url=(0057)http://mbostock.github.io/d3/talk/20111018/collision.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <script type="text/javascript" src="./collision_files/d3.js"></script>
    <script type="text/javascript" src="./collision_files/d3.geom.js"></script>
    <script type="text/javascript" src="./collision_files/d3.layout.js"></script>
    <link type="text/css" rel="stylesheet" href="./collision_files/style.css">
    <style type="text/css">

circle {
  stroke: #000;
  stroke-opacity: .5;
}

    </style>
  </head>
  <body>
    <div id="body">
      <div id="footer">
        Collision Detection
        <div class="hint">move the mouse to repel nodes</div>
      </div>
    <svg width="1280" height="800"><circle r="8.372161082923412" cx="620.1742224154858" cy="614.5866461273475" style="fill: #1f77b4;"></circle><circle r="6.439789562486112" cx="682.5868845390273" cy="467.20621883217905" style="fill: #ff7f0e;"></circle><circle r="5.971031705848873" cx="705.6006549255583" cy="504.93980957471166" style="fill: #2ca02c;"></circle><circle r="2.9446358466520905" cx="631.8441162413149" cy="487.513620274829" style="fill: #1f77b4;"></circle><circle r="13.843030914664268" cx="782.5965648817746" cy="505.10668381915593" style="fill: #ff7f0e;"></circle><circle r="5.291834329254925" cx="791.9841838443523" cy="441.97591369691366" style="fill: #2ca02c;"></circle><circle r="4.789967295713723" cx="613.0030999767168" cy="471.776918529776" style="fill: #1f77b4;"></circle><circle r="6.802808361127973" cx="746.5830731644976" cy="507.7950739774426" style="fill: #ff7f0e;"></circle><circle r="3.8646438512951136" cx="678.3020328422534" cy="492.57405424851805" style="fill: #2ca02c;"></circle><circle r="9.297946780920029" cx="711.2556468948686" cy="544.5920934261609" style="fill: #1f77b4;"></circle><circle r="9.796746806241572" cx="731.840404486964" cy="407.2497962257398" style="fill: #ff7f0e;"></circle><circle r="12.197727178223431" cx="820.3386544078038" cy="533.4449357827957" style="fill: #2ca02c;"></circle><circle r="6.92456990480423" cx="712.1190314759536" cy="469.14528935507747" style="fill: #1f77b4;"></circle><circle r="10.39721752051264" cx="691.1496750168061" cy="589.8249753577707" style="fill: #ff7f0e;"></circle><circle r="13.860632263123989" cx="781.9993277799061" cy="412.7738841699806" style="fill: #2ca02c;"></circle><circle r="5.411895612254739" cx="747.4931579451238" cy="472.3529786868793" style="fill: #1f77b4;"></circle><circle r="4.82202763389796" cx="605.9037000103173" cy="546.3066663204747" style="fill: #ff7f0e;"></circle><circle r="6.875917639583349" cx="666.7970945553338" cy="516.0370247955134" style="fill: #2ca02c;"></circle><circle r="2.699779698625207" cx="676.7623457280915" cy="509.11878025983503" style="fill: #1f77b4;"></circle><circle r="13.298990212380886" cx="561.057454586271" cy="388.0301672840996" style="fill: #ff7f0e;"></circle><circle r="10.63314238190651" cx="562.9211900045542" cy="467.5359772286925" style="fill: #2ca02c;"></circle><circle r="8.48556599766016" cx="710.2145540214592" cy="413.1284352441384" style="fill: #1f77b4;"></circle><circle r="8.314434175379574" cx="747.2865811757397" cy="351.63384490826417" style="fill: #ff7f0e;"></circle><circle r="12.984453411772847" cx="821.5335836047087" cy="437.6471815520968" style="fill: #2ca02c;"></circle><circle r="7.783975665457547" cx="627.2917811128397" cy="408.9774513752188" style="fill: #1f77b4;"></circle><circle r="11.552674677222967" cx="637.4187818790958" cy="596.5090152334695" style="fill: #ff7f0e;"></circle><circle r="12.296444134786725" cx="757.7477282776365" cy="395.5635196832086" style="fill: #2ca02c;"></circle><circle r="9.173618871718645" cx="689.619046064821" cy="550.1514090472868" style="fill: #1f77b4;"></circle><circle r="7.454948423430324" cx="647.4171092096898" cy="546.1836799680119" style="fill: #ff7f0e;"></circle><circle r="8.259605914354324" cx="602.0527481902923" cy="514.601897434778" style="fill: #2ca02c;"></circle><circle r="8.277471088804305" cx="751.4949771449794" cy="371.5430467950188" style="fill: #1f77b4;"></circle><circle r="9.888775708153844" cx="632.1798099499765" cy="571.5888510904548" style="fill: #ff7f0e;"></circle><circle r="2.0577661711722612" cx="640.8456658885207" cy="501.12383676843297" style="fill: #2ca02c;"></circle><circle r="3.280105176381767" cx="662.5411463906379" cy="528.8238078596688" style="fill: #1f77b4;"></circle><circle r="7.906104386784136" cx="583.7150700988499" cy="426.1140357473462" style="fill: #ff7f0e;"></circle><circle r="4.370191501453519" cx="589.136642828187" cy="440.36473465603353" style="fill: #2ca02c;"></circle><circle r="2.288670929148793" cx="671.7573711211287" cy="527.852617656421" style="fill: #1f77b4;"></circle><circle r="6.104921315796673" cx="644.295937165023" cy="489.75847948058436" style="fill: #ff7f0e;"></circle><circle r="2.1397612392902374" cx="670.7445266075838" cy="468.2929244836839" style="fill: #2ca02c;"></circle><circle r="12.345488452352583" cx="607.0300992932307" cy="422.437921911997" style="fill: #1f77b4;"></circle><circle r="4.082574973814189" cx="634.445990728303" cy="553.949428634025" style="fill: #ff7f0e;"></circle><circle r="4.812149773351848" cx="669.595938400385" cy="500.74821994680383" style="fill: #2ca02c;"></circle><circle r="3.0291086388751864" cx="671.9133183484018" cy="476.0015915113026" style="fill: #1f77b4;"></circle><circle r="2.954794615507126" cx="731.1204742586618" cy="484.6216642754673" style="fill: #ff7f0e;"></circle><circle r="12.027382553555071" cx="717.0488142761105" cy="593.6633701356686" style="fill: #2ca02c;"></circle><circle r="11.669017183594406" cx="735.6266924212799" cy="541.0007694978137" style="fill: #1f77b4;"></circle><circle r="9.64588741865009" cx="583.5655734466501" cy="553.8808991061583" style="fill: #ff7f0e;"></circle><circle r="4.9747794680297375" cx="700.0572723471885" cy="491.67674850673654" style="fill: #2ca02c;"></circle><circle r="3.3617929946631193" cx="669.1051043382275" cy="486.01024732259134" style="fill: #1f77b4;"></circle><circle r="8.512444430962205" cx="572.5956840999456" cy="535.1648640634198" style="fill: #ff7f0e;"></circle><circle r="2.496565085835755" cx="642.4369900621919" cy="533.2005650636954" style="fill: #2ca02c;"></circle><circle r="12.841087688691914" cx="536.9570304762785" cy="534.8948211125937" style="fill: #1f77b4;"></circle><circle r="7.641209153458476" cx="805.8745677119485" cy="514.527942396891" style="fill: #ff7f0e;"></circle><circle r="7.394341968931258" cx="732.8423545363189" cy="364.7489085751738" style="fill: #2ca02c;"></circle><circle r="3.5071104522794485" cx="707.44284146274" cy="481.8340709562189" style="fill: #1f77b4;"></circle><circle r="12.147652300074697" cx="744.742343776968" cy="596.125855331708" style="fill: #ff7f0e;"></circle><circle r="7.926243023946881" cx="730.3592796297056" cy="470.00026337472616" style="fill: #2ca02c;"></circle><circle r="2.8907504519447684" cx="688.8343540503698" cy="489.15998728766175" style="fill: #1f77b4;"></circle><circle r="8.005650274455547" cx="696.6488834351658" cy="519.8408791777823" style="fill: #ff7f0e;"></circle><circle r="12.769959503784776" cx="514.7486213606014" cy="460.5487970701125" style="fill: #2ca02c;"></circle><circle r="7.809670258313417" cx="667.1277923103953" cy="440.34496638224834" style="fill: #1f77b4;"></circle><circle r="4.099239214323461" cx="629.0289482494485" cy="505.863332465091" style="fill: #ff7f0e;"></circle><circle r="12.495344252325594" cx="512.1135116712362" cy="519.3329276409131" style="fill: #2ca02c;"></circle><circle r="5.5640839478001" cx="647.378099071234" cy="474.35848520230206" style="fill: #1f77b4;"></circle><circle r="10.074003787711263" cx="588.0201337063829" cy="495.2637973467603" style="fill: #ff7f0e;"></circle><circle r="6.136845442466438" cx="765.9073436326497" cy="456.7653203670137" style="fill: #2ca02c;"></circle><circle r="7.984711774624884" cx="648.0287513221774" cy="433.8217343886272" style="fill: #1f77b4;"></circle><circle r="10.589899931102991" cx="557.7811440180859" cy="552.3444353008325" style="fill: #ff7f0e;"></circle><circle r="3.5189458895474672" cx="695.9136551812688" cy="535.2736631134326" style="fill: #2ca02c;"></circle><circle r="10.339359131641686" cx="570.4076326448147" cy="573.4612993791682" style="fill: #1f77b4;"></circle><circle r="8.265166371129453" cx="701.0570546227718" cy="430.90993409014726" style="fill: #ff7f0e;"></circle><circle r="3.9674226166680455" cx="621.9038045537347" cy="515.5150662096107" style="fill: #2ca02c;"></circle><circle r="7.766631197184324" cx="745.0154080206845" cy="489.301765345599" style="fill: #1f77b4;"></circle><circle r="2.342366241849959" cx="653.4909216997058" cy="446.0259199334614" style="fill: #ff7f0e;"></circle><circle r="5.905881994403899" cx="694.9226094434172" cy="477.75600471567486" style="fill: #2ca02c;"></circle><circle r="13.176037136465311" cx="822.3019536982342" cy="467.74532982186196" style="fill: #1f77b4;"></circle><circle r="4.582464615814388" cx="697.2103675873982" cy="463.9699822258928" style="fill: #ff7f0e;"></circle><circle r="12.62153607327491" cx="734.1351521371732" cy="569.0845214965635" style="fill: #2ca02c;"></circle><circle r="12.869863200932741" cx="665.3283234134336" cy="598.4950834537893" style="fill: #1f77b4;"></circle><circle r="12.787474560551345" cx="768.3127795530493" cy="478.4000015670283" style="fill: #ff7f0e;"></circle><circle r="3.0254120910540223" cx="713.134746442703" cy="528.4220519413581" style="fill: #2ca02c;"></circle><circle r="11.933024524711072" cx="745.4955270129275" cy="451.36406918770626" style="fill: #1f77b4;"></circle><circle r="8.739810748957098" cx="649.8850998329442" cy="375.20836326022527" style="fill: #ff7f0e;"></circle><circle r="5.968050072900951" cx="632.8078024931733" cy="523.7084416217671" style="fill: #2ca02c;"></circle><circle r="5.8696461552754045" cx="683.166070561439" cy="532.2396966442158" style="fill: #1f77b4;"></circle><circle r="6.682978203520179" cx="672.6354377366649" cy="417.9988822246612" style="fill: #ff7f0e;"></circle><circle r="10.572539581917226" cx="611.8657223743618" cy="593.5775164124383" style="fill: #2ca02c;"></circle><circle r="9.296728105284274" cx="667.5549122057719" cy="361.95799105769544" style="fill: #1f77b4;"></circle><circle r="4.4286877028644085" cx="639.3870591572063" cy="510.92598009751765" style="fill: #ff7f0e;"></circle><circle r="7.322925952263176" cx="649.6687891011851" cy="522.0925728093904" style="fill: #2ca02c;"></circle><circle r="5.715652162209153" cx="815.1036605953518" cy="489.2375159942409" style="fill: #1f77b4;"></circle><circle r="10.371398171409965" cx="539.910446528793" cy="478.58802481134666" style="fill: #ff7f0e;"></circle><circle r="5.571367159485817" cx="736.0734396883694" cy="519.9081350269145" style="fill: #2ca02c;"></circle><circle r="6.298301028087735" cx="665.5500474821007" cy="402.93099016601633" style="fill: #1f77b4;"></circle><circle r="5.801040314137936" cx="682.6169005755597" cy="429.94006695956335" style="fill: #ff7f0e;"></circle><circle r="6.759014445357025" cx="803.6393622690522" cy="452.9462870492217" style="fill: #2ca02c;"></circle><circle r="5.13391181640327" cx="605.0166473112789" cy="461.0047729134974" style="fill: #1f77b4;"></circle><circle r="4.805597513914108" cx="725.4846362181313" cy="454.38860640726404" style="fill: #ff7f0e;"></circle><circle r="5.66873221565038" cx="632.2387873226329" cy="539.2392069863731" style="fill: #2ca02c;"></circle><circle r="11.267546440474689" cx="710.406645978544" cy="367.185976624866" style="fill: #1f77b4;"></circle><circle r="5.97920024767518" cx="651.3754035286271" cy="562.5248757281033" style="fill: #ff7f0e;"></circle><circle r="12.528583407402039" cx="752.5070687328655" cy="423.33464284019686" style="fill: #2ca02c;"></circle><circle r="12.530402095988393" cx="587.2166376131576" cy="401.88955431620053" style="fill: #1f77b4;"></circle><circle r="12.65186481922865" cx="791.5761819153909" cy="534.1049957368341" style="fill: #ff7f0e;"></circle><circle r="10.13823832385242" cx="646.1717355786024" cy="397.5364677809626" style="fill: #2ca02c;"></circle><circle r="10.701147575862706" cx="563.6822631837587" cy="415.66768536925565" style="fill: #1f77b4;"></circle><circle r="13.764449094422162" cx="542.5560440856888" cy="576.5108349280911" style="fill: #ff7f0e;"></circle><circle r="11.233434835448861" cx="725.9604839971353" cy="501.81459281138905" style="fill: #2ca02c;"></circle><circle r="8.228614690713584" cx="771.0788093852814" cy="366.23414286426487" style="fill: #1f77b4;"></circle><circle r="13.731241072528064" cx="567.3498758921338" cy="601.52788808638" style="fill: #ff7f0e;"></circle><circle r="8.2839962746948" cx="581.6893042356307" cy="516.2925540679793" style="fill: #2ca02c;"></circle><circle r="5.721774974837899" cx="634.4191751899583" cy="444.0394108004767" style="fill: #1f77b4;"></circle><circle r="11.38089392799884" cx="541.5876155236986" cy="452.8999410141942" style="fill: #ff7f0e;"></circle><circle r="3.6069445963948965" cx="603.8657211635801" cy="499.6891208191853" style="fill: #2ca02c;"></circle><circle r="12.767799219116569" cx="596.9071985602718" cy="374.24119918311584" style="fill: #1f77b4;"></circle><circle r="12.760162497870624" cx="672.9705636085981" cy="569.9562062826615" style="fill: #ff7f0e;"></circle><circle r="6.786531012505293" cx="651.407116356195" cy="579.3273335864352" style="fill: #2ca02c;"></circle><circle r="5.793585013598204" cx="642.7433368686162" cy="416.6228645808721" style="fill: #1f77b4;"></circle><circle r="11.204752890393138" cx="536.6423633014319" cy="506.9874493540844" style="fill: #ff7f0e;"></circle><circle r="3.394379772245884" cx="635.4157606752427" cy="469.5855061812136" style="fill: #2ca02c;"></circle><circle r="5.270429172553122" cx="625.7971864550668" cy="477.0068473337659" style="fill: #1f77b4;"></circle><circle r="3.8982949880883098" cx="680.6693284928774" cy="518.747040608841" style="fill: #ff7f0e;"></circle><circle r="13.349988088943064" cx="690.93785363237" cy="346.0495438661674" style="fill: #2ca02c;"></circle><circle r="12.105292963795364" cx="642.6832701169939" cy="623.571348250966" style="fill: #1f77b4;"></circle><circle r="6.059940648265183" cx="799.6814018584853" cy="429.030239550067" style="fill: #ff7f0e;"></circle><circle r="9.788307886570692" cx="686.5654314349733" cy="447.5372308583077" style="fill: #2ca02c;"></circle><circle r="12.547657269053161" cx="625.1716971733235" cy="381.068954747957" style="fill: #1f77b4;"></circle><circle r="6.583115695044398" cx="620.6674188762818" cy="549.9241106398656" style="fill: #ff7f0e;"></circle><circle r="10.127665905281901" cx="585.6458538645636" cy="458.2435094336325" style="fill: #2ca02c;"></circle><circle r="6.9482346856966615" cx="603.2631025374023" cy="445.0636563088853" style="fill: #1f77b4;"></circle><circle r="11.112452255561948" cx="796.5292024201269" cy="479.853157526063" style="fill: #ff7f0e;"></circle><circle r="9.389405280351639" cx="668.0009061830153" cy="544.2832165841438" style="fill: #2ca02c;"></circle><circle r="2.2518219370394945" cx="704.3750617139779" cy="530.8566228078149" style="fill: #1f77b4;"></circle><circle r="8.94362151902169" cx="593.376984113026" cy="533.5705116492248" style="fill: #ff7f0e;"></circle><circle r="4.730385676957667" cx="719.5777043956651" cy="482.6849591838442" style="fill: #2ca02c;"></circle><circle r="3.7537463856860995" cx="659.710737791764" cy="452.91926201124966" style="fill: #1f77b4;"></circle><circle r="7.986892583779991" cx="644.4983670708359" cy="457.2071235422796" style="fill: #ff7f0e;"></circle><circle r="11.566466310992837" cx="705.8786726812859" cy="568.5016686962065" style="fill: #2ca02c;"></circle><circle r="6.822372393682599" cx="611.1974960627491" cy="399.64095434344625" style="fill: #1f77b4;"></circle><circle r="2.0907039549201727" cx="663.5882285386132" cy="476.68816895119556" style="fill: #ff7f0e;"></circle><circle r="13.885824179276824" cx="728.8772547845438" cy="621.3589761538423" style="fill: #2ca02c;"></circle><circle r="9.664106264710426" cx="773.2819780138977" cy="438.65830482169497" style="fill: #1f77b4;"></circle><circle r="12.545774545520544" cx="605.9214226841433" cy="567.1399212002492" style="fill: #ff7f0e;"></circle><circle r="9.089911911636591" cx="615.3117172489987" cy="530.9941218577045" style="fill: #2ca02c;"></circle><circle r="4.9635428031906486" cx="656.947682998981" cy="414.8903589228281" style="fill: #1f77b4;"></circle><circle r="8.963161970488727" cx="707.7871641136743" cy="449.8952892311443" style="fill: #ff7f0e;"></circle><circle r="7.679112563841045" cx="597.390464680143" cy="475.8874519930952" style="fill: #2ca02c;"></circle><circle r="9.055809568613768" cx="784.6966603737804" cy="458.86336578849347" style="fill: #1f77b4;"></circle><circle r="11.126823827624321" cx="540.2501077905915" cy="426.42598827427156" style="fill: #ff7f0e;"></circle><circle r="3.321046981960535" cx="678.6180555894963" cy="405.6019881386389" style="fill: #2ca02c;"></circle><circle r="13.40399226360023" cx="763.7244242296762" cy="573.9614498118717" style="fill: #1f77b4;"></circle><circle r="9.961597903631628" cx="690.7777227913323" cy="393.465346308132" style="fill: #ff7f0e;"></circle><circle r="11.80409652646631" cx="811.5970507022806" cy="410.6824626612777" style="fill: #2ca02c;"></circle><circle r="6.622809734195471" cx="750.8347106388389" cy="524.7070548412794" style="fill: #1f77b4;"></circle><circle r="2.304512407630682" cx="634.4225843903477" cy="496.460710230512" style="fill: #ff7f0e;"></circle><circle r="5.6429019114002585" cx="619.0924342006928" cy="441.2068155167979" style="fill: #2ca02c;"></circle><circle r="5.1270827585831285" cx="615.5790340059476" cy="504.09199609256393" style="fill: #1f77b4;"></circle><circle r="12.696218377910554" cx="561.5828393082153" cy="493.9807720137995" style="fill: #ff7f0e;"></circle><circle r="7.633916037157178" cx="690.3773301174272" cy="414.1501959941834" style="fill: #2ca02c;"></circle><circle r="5.518515077419579" cx="659.2029641612761" cy="465.94540712017306" style="fill: #1f77b4;"></circle><circle r="12.246491520665586" cx="807.0911668645183" cy="382.99809334638405" style="fill: #ff7f0e;"></circle><circle r="2.4286686135455966" cx="654.7256791524479" cy="534.3794592219728" style="fill: #2ca02c;"></circle><circle r="7.721668059006333" cx="612.456934326758" cy="486.9944431768744" style="fill: #1f77b4;"></circle><circle r="12.680819285102189" cx="763.770216334141" cy="544.0092235735924" style="fill: #ff7f0e;"></circle><circle r="4.13953734561801" cx="723.035722138148" cy="523.8424001702474" style="fill: #2ca02c;"></circle><circle r="5.112004628404975" cx="761.2544253712889" cy="513.3538735807398" style="fill: #1f77b4;"></circle><circle r="12.241769835352898" cx="515.5329199156754" cy="489.4459839170569" style="fill: #ff7f0e;"></circle><circle r="13.284906533546746" cx="671.4828771124429" cy="628.096956481303" style="fill: #2ca02c;"></circle><circle r="9.622727292589843" cx="781.3395721747478" cy="385.2984446828658" style="fill: #1f77b4;"></circle><circle r="13.044401864521205" cx="723.6630341252409" cy="342.19793863697333" style="fill: #ff7f0e;"></circle><circle r="12.763470890931785" cx="698.7114425415899" cy="615.9365172998195" style="fill: #2ca02c;"></circle><circle r="5.417402382940054" cx="580.3436647920832" cy="477.34769454740433" style="fill: #1f77b4;"></circle><circle r="8.892498441971838" cx="589.3630826021576" cy="586.7050975137425" style="fill: #ff7f0e;"></circle><circle r="7.274345452897251" cx="653.3245138359599" cy="503.9188808125286" style="fill: #2ca02c;"></circle><circle r="9.137469408102334" cx="669.5339769757742" cy="383.9967509892981" style="fill: #1f77b4;"></circle><circle r="4.405210008844733" cx="712.5735424614039" cy="516.9204436116707" style="fill: #ff7f0e;"></circle><circle r="7.369192445650697" cx="629.7172431665" cy="427.797917734186" style="fill: #2ca02c;"></circle><circle r="8.583569707348943" cx="623.960413134295" cy="458.36313693808313" style="fill: #1f77b4;"></circle><circle r="13.63534228503704" cx="517.2754650394627" cy="557.887214931939" style="fill: #ff7f0e;"></circle><circle r="12.157180920243263" cx="725.2757975382231" cy="431.86478248512384" style="fill: #2ca02c;"></circle><circle r="3.8998747281730175" cx="656.6706621365232" cy="483.30134180771273" style="fill: #1f77b4;"></circle><circle r="3.5277248295024037" cx="624.6358305761582" cy="495.0982588478302" style="fill: #ff7f0e;"></circle><circle r="3.5857227826491" cx="661.5710267458318" cy="425.98737315266425" style="fill: #2ca02c;"></circle><circle r="4.782118383795023" cx="804.0146906657519" cy="498.21026655843474" style="fill: #1f77b4;"></circle><circle r="2.8188638975843787" cx="661.515033123581" cy="492.3828479335084" style="fill: #ff7f0e;"></circle><circle r="8.560751484706998" cx="784.5390774875491" cy="558.3156376564762" style="fill: #2ca02c;"></circle><circle r="11.621558557264507" cx="594.3328951192295" cy="613.0385221872377" style="fill: #1f77b4;"></circle><circle r="2.7486977372318506" cx="711.6075036115274" cy="490.9818163477201" style="fill: #ff7f0e;"></circle><circle r="4.62837082426995" cx="770.1854459696492" cy="523.8479225183834" style="fill: #2ca02c;"></circle><circle r="9.531605058349669" cx="713.6503036027159" cy="391.4314526359426" style="fill: #1f77b4;"></circle><circle r="11.542937744408846" cx="566.1844769579619" cy="441.5032973489931" style="fill: #ff7f0e;"></circle><circle r="8.470618203282356" cx="687.1456533150606" cy="371.3291228093771" style="fill: #2ca02c;"></circle><circle r="2.3873263094574213" cx="636.7180718195527" cy="479.82710457392676" style="fill: #1f77b4;"></circle><circle r="9.008249817416072" cx="734.8126253049589" cy="384.6393169204682" style="fill: #ff7f0e;"></circle><circle r="4.847173175774515" cx="671.0704169204585" cy="457.3108243500615" style="fill: #2ca02c;"></circle><circle r="4.120507726445794" cx="681.3309881453088" cy="481.02168144222725" style="fill: #1f77b4;"></circle><circle r="5.464910227805376" cx="760.1550242150798" cy="498.81086196606043" style="fill: #ff7f0e;"></circle><circle r="7.105085214599967" cx="688.4412366995355" cy="502.5824103582218" style="fill: #2ca02c;"></circle><circle r="9.236778057180345" cx="557.7710192927307" cy="519.2507824941791" style="fill: #1f77b4;"></circle></svg></div>
    <script type="text/javascript">

var w = 1280,
    h = 800;

var nodes = d3.range(200).map(function() { return {radius: Math.random() * 12 + 4}; }),
    color = d3.scale.category10();

var force = d3.layout.force()
    .gravity(0.05)
    .charge(function(d, i) { return i ? 0 : -2000; })
    .nodes(nodes)
    .size([w, h]);

var root = nodes[0];
root.radius = 0;
root.fixed = true;

force.start();

var svg = d3.select("#body").append("svg:svg")
    .attr("width", w)
    .attr("height", h);

svg.selectAll("circle")
    .data(nodes.slice(1))
  .enter().append("svg:circle")
    .attr("r", function(d) { return d.radius - 2; })
    .style("fill", function(d, i) { return color(i % 3); });

force.on("tick", function(e) {
  var q = d3.geom.quadtree(nodes),
      i = 0,
      n = nodes.length;

  while (++i < n) {
    q.visit(collide(nodes[i]));
  }

  svg.selectAll("circle")
      .attr("cx", function(d) { return d.x; })
      .attr("cy", function(d) { return d.y; });
});

svg.on("mousemove", function() {
  var p1 = d3.svg.mouse(this);
  root.px = p1[0];
  root.py = p1[1];
  force.resume();
});

function collide(node) {
  var r = node.radius + 16,
      nx1 = node.x - r,
      nx2 = node.x + r,
      ny1 = node.y - r,
      ny2 = node.y + r;
  return function(quad, x1, y1, x2, y2) {
    if (quad.point && (quad.point !== node)) {
      var x = node.x - quad.point.x,
          y = node.y - quad.point.y,
          l = Math.sqrt(x * x + y * y),
          r = node.radius + quad.point.radius;
      if (l < r) {
        l = (l - r) / l * .5;
        node.x -= x *= l;
        node.y -= y *= l;
        quad.point.x += x;
        quad.point.y += y;
      }
    }
    return x1 > nx2
        || x2 < nx1
        || y1 > ny2
        || y2 < ny1;
  };
}

    </script>
  

</body></html>