<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>data-driven documents - Onet Barcamp</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section>
					<section>
						<h1>d3.js</h1>
						<h3>the colorful world of data</h3>
						<p>
							<small><a href="http://adamczuk.net/">Łukasz Adamczuk</a><!-- / <a href="http://twitter.com/lukasz-jakub-adamczuk">@lukasz-jakub-adamczuk</a>--></small>
						</p>
					</section>
					<section>
						<h2>Agenda</h2>
						<ol>
							<li>General concepts</li>
							<li>Advantages and disadvantages</li>
							<li>Basic and complex examples</li>
							<li>Summary</li>
						</ol>
					</section>
				</section>

				<section>
					<section>
						<h2>What is d3?</h2>
						<object data="../examples/reel/index.html" type="text/html" width="960" height="500">
						</object>
					</section>
					<section>
						<h2>Details</h2>
						<ul>
							<li>One of most popular library on GitHub</li>
							<li>293kB (137kB minified)</li>
							<li>BSD licensed</li>
							<li>Created by <a href="https://github.com/mbostock">Mike Bostock</a></li>
						</ul>
					</section>
					<section>
						<h2>Source code</h2>
						<pre><code class="javascript">d3=function(){function n(n){return null!=n&&!isNaN(n)}function t(n){ret
urn n.length}function e(n){for(var t=1;n*t%1;)t*=10;return t}function r
(n,t){try{for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e
],enumerable:!1})}catch(r){n.prototype=t}}function u(){}function i(){}f
unction a(n,t,e){return function(){var r=e.apply(t,arguments);return r=
==t?n:r}}function o(){}function c(n){function t(){for(var t,r=e,u=-1,i=
r.length;++u&gt;i;)(t=r[u].on)&&t.apply(this,arguments);return n}var e=
[],r=new u;return t.on=function(t,u){var i,a=r.get(t);return arguments.
length&gt;2?a&&a.on:(a&&(a.on=null,e=e.slice(0,i=e.indexOf(a)).concat(e
.slice(i+1)),r.remove(t)),u&&e.push(r.set(t,{on:u})),n)},t}function l()
{ca.event.stopPropagation(),ca.event.preventDefault()}function f(){for(
var n,t=ca.event;n=t.sourceEvent;)t=n;return t}function s(n,t){function
e(){n.on(t,null)}n.on(t,function(){l(),e()},!0),setTimeout(e,0)}functio
n h(n){for(var t=new o,e=0,r=arguments.length;++e&gt;r;)t[arguments[e]]
=c(t);return t.of=function(e,r){return function(u){try{var i=u.sourceEv
ent=ca.event;u.target=n,ca.event=u,t[u.type].apply(e,r)}finally{ca.even
t=i}}},t}function g(n,t){var e=n.ownerSVGElement||n;if(e.createSVGPoint
){var r=e.createSVGPoint();if(0&lt;va&&(fa.scrollX||fa.scrollY)){e=ca.s
elect(la.body).append("svg").style("position","absolute").style("top",0
						</code></pre>
					</section>
				</section>
				
				<section>
					<h2>Why d3?</h2>		
					<ul>
						<li>Joins data with the DOM elements</li>
						<li>Style with CSS and interact with JS events</li>
						<li>Easy to debug and extend</li>
						<li>Fast, simple and efficient</li>
						<li>Animations and transitions</li>
					</ul>
				</section>
				
				<section>
					<section>
						<h2>Limitations</h2>
						<ul>
							<li>SVG: no IE8 support and older Android</li>
							<li>Steep learning curve for a simple graphs</li>
							<li>Always visible underlying data</li>
							<li>Many elements could slow DOM rendering</li>
						</ul>
					</section>
					<section>
						<h2>Alternatives</h2>
						<ul>
							<li>Try <a href="http://nvd3.org/">NVD3</a> or <a href="http://code.shutterstock.com/rickshaw/">Rickshaw</a></li>
							<li>If you need to draw thousands of points, consider canvas instead</li>
						</ul>
					</section>
				</section>
				
				<section>
					<h1>Fundamentals</h1>
				</section>
				
				<section>
					<h2>Concepts</h2>
					<p>
						Instead of telling D3 how to do something, tell D3 what you want.
					</p>
				</section>
				
				<section>
					<section>
						<h2>Selections</h2>
						<ul>
							<li>The core concept to understand D3</li>
							<li>Selections are arrays of elements in the document</li>
							<li>D3 uses CSS3 to get selections</li>
						</ul>
					</section>
					<section>
						<h2>Data binding</h2>
						<ul>
							<li><code>data()</code> joins specified array of data with the selection</li>
							<li>Methods after <code>data()</code> are executed for each item</li>
						</ul>
					</section>
					<section>
						<h2>Subselections</h2>
						<ul>
							<li><code>enter()</code> creates new nodes</li>
							<li><code>exit()</code> removes existing nodes</li>
						</ul>
					</section>
					<section>
						<h2>API</h2>
						<ul>
							<li><code>attr()</code> gets or sets attribute</li>
							<li><code>style()</code> gets or sets CSS style</li>
							<li><code>property()</code> gets or sets property</li>
							<li><code>text()</code> gets or sets textContent</li>
							<li><code>html()</code> gets or sets innerHTML</li>
						</ul>
					</section>
					<section>
						<h2>Initialize</h2>
						<pre class="fragment visible"><code class="javascript">var dataset = [15, 70, 30, 50, 20];

var width = 960,
    height = 500;

var svg = d3.select("body")
    .append("svg")
    .attr("width", width)
    .attr("height", height);</code></pre>
						<object class="fragment" data-fragment-index="1" data="../demos/circles/selections.html" type="text/html" width="960" height="500">
						</object>
					</section>
					<section>
						<h2>Creating circles</h2>
						<pre class="fragment visible"><code class="javascript">svg.selectAll('circle')
  .data(dataset)
  .enter()
  .append('circle')</code></pre>
    					<pre class="fragment" data-fragment-index="1"><code class="javascript">    .attr('cx', function(d) { return d * 2; })
    .attr('cy', 100)
    .attr('r', function(d) { return d; });</code></pre>
					    <object class="fragment" data-fragment-index="2" data="../demos/circles/selections2.html" type="text/html" width="960" height="500">
						</object>
					</section>
				</section>
				
				<section>
					<section>
						<h2>Scales</h2>
						<p>
							Scales are functions that map from an input domain to an output range.
						</p>
					</section>
					<section>
						<h2>Data mapping</h2>
						<pre><code>var map = dataset.map(function(d, i) {
  return {'key': i, 'value': d};
});</code></pre>
					</section>
					<section>
						<h2>Placing circles</h2>
						<pre class="fragment visible"><code>var xScale = d3.scale.linear()
  .domain([0, 4])
  .range([0, width]);</code></pre>
<pre class="fragment" data-fragment-index="1"><code>  .attr('cx', function(d) { return xScale(d.key); })
  .attr('cy', 100)
  .attr('r', function(d) { return d.value; });</code></pre>
						<object class="fragment" data-fragment-index="2" data="../demos/circles/scales.html" type="text/html" width="960" height="500">
						</object>
					</section>
				</section>

				<section>
					<section>
						<h2>Transitions</h2>
						<p>
							A transition is a special type of selection where the operators apply smoothly over time rather than instantaneously.
						</p>
					</section>
					<section>
						<h2>API</h2>
						<ul>
							<li><code>transition()</code> starts new transition</li>
							<li><code>delay()</code> sets delay in miliseconds</li>
							<li><code>duration()</code> sets duration in miliseconds</li>
						</ul>
					</section>
					<section>
						<h2>Show my cirles</h2>
						<pre class="fragment visible"><code class="javascript">.attr('r', 0)
  .transition()
  .duration(1000)
    .attr('r', function(d) { return d.value; })</code></pre>
						<object class="fragment" data-fragment-index="1" data="../demos/circles/transitions.html" type="text/html" width="960" height="500">
						</object>
					</section>
					<section>
						<h2>Show slowly!</h2>
						<pre class="fragment visible"><code class="javascript">.attr('r', 0)
  .transition()
  .duration(function(d) { return d.value * 100; })
    .attr('r', function(d) { return d.value; })</code></pre>
    					<pre class="fragment" data-fragment-index="1"><code>  .transition()
  .delay(function(d) { return d.value * 100; })</code></pre>
						<object class="fragment" data-fragment-index="2" data="../demos/circles/transitions2.html" type="text/html" width="960" height="500">
						</object>
					</section>
				</section>
				
				<section>
					<section>
						<h2>Colors</h2>
						<p>
							Additional channel for an informations.
						</p>
					</section>
					<section>
						<h2>From red to green</h2>
						<pre class="fragment visible"><code class="javascript">.style('fill', 'red')
  .transition()
  .duration(function(d) { return d.value * 100; })
    .style('fill', 'green')</code></pre>
						<object class="fragment" data-fragment-index="1" data="../demos/circles/colors.html" type="text/html" width="960" height="500">
						</object>
					</section>
					<section>
						<h2>Color scale</h2>
						<pre class="fragment visible"><code class="javascript">var colors = d3.scale.category10();

.style('fill', function(d) { return colors(d.value); });

.duration(2000)

.delay(2000)</code></pre>
						<object class="fragment" data-fragment-index="1" data="../demos/circles/colors2.html" type="text/html" width="960" height="500">
						</object>
					</section>
					<section>
						<h2>Interpolate colors</h2>
						<pre class="fragment visible"><code class="javascript">var colors = d3.scale.linear()
.domain([0, 4])
.range(['white', 'black']);

.style('stroke', function(d) {
  return d3.rgb(colors(d.key)).darker();
});</code></pre>
						<object class="fragment" data-fragment-index="1" data="../demos/circles/colors4.html" type="text/html" width="960" height="500">
						</object>
					</section>
				</section>
				
				<section>
					<section>
						<h2>Axes</h2>
						<p>
							D3 creates axes and labels automatically.
						</p>
					</section>
					<section>
						<h2>Horizontal axis</h2>
						<pre class="fragment visible"><code class="javascript">var xAxis = d3.svg.axis()
  .scale(xScale).orient("bottom").ticks(5);

svg.append("g")
  .attr("class", "axis")
  .attr("transform", "translate(0, " + (height) + ")")
  .call(xAxis);</code></pre>
						<object class="fragment" data-fragment-index="1" data="../demos/circles/axes.html" type="text/html" width="960" height="500">
						</object>
					</section>
				</section>
				
				<section>
					<section>
						<h2>Arrays</h2>
						<p>
							D3's canonical representation of data is an array.
						</p>
					</section>
					<section>
						<h2>Basics</h2>
						<p>
							Before looking at the set of utilities that D3 provides for arrays, you should familiarize yourself with the powerful array methods built-in to JavaScript.
						</p>
					</section>
					<section>
						<h2>Ordering</h2>
						<ul>
							<li><code>min()</code> returns the minimum value in the given array</li>
							<li><code>max()</code> returns the maximum value in the given array</li>
							<li><code>mean()</code> returns the mean of the given array</li>
							<li><code>sum()</code> returns the sum of the given array</li>
							<li><code>extent()</code> returns minimum and maximum values</li>
							<li><code>shuffle()</code> randomizes the order of the specified array</li>
						</ul>
					</section>
					<section>
						<h2>Associative arrays</h2>
						<ul>
							 <li>Common data type in JavaScript</li>
							 <li><strong>Note</strong> that the iteration order is undefined!</li>
							 <li>D3 provides several operators for converting associative arrays to standard indexed arrays.</li>
						</ul>
					</section>
					<section>
						<h2>Maps and sets</h2>
						<pre><code class="javascript">
	var arr = [10, 20, 30];
	
	> arr; // [10, 20, 30]
	
	> d3.map(arr); // u {0: 10, 1: 20, 2: 30}
	
	> d3.set(arr); // i {10: true, 20: true, 30: true}
						</code></pre>
					</section>
				</section>
				
				<section>
					<section>
						<h2>Loading External data</h2>
						<ul>
							<li>There are many ways to get data into the browser</li>
							<li>Create an asynchronous request for specified url</li>
							<li>Most browsers <strong>do not</strong> allow cross-domain requests</li>
						</p>
					</section>
					<section>
						<h2>API</h2>
						<ul>
							<li><code>json()</code> requests for the JSON file</li>
							<li><code>xml()</code> requests for the XML file</li>
							<li><code>html()</code> requests for the HTML file</li>
							<li><code>csv()</code> requests for the CSV file</li>
							<li><code>tsv()</code> requests for the TSV file</li>
						</ul>
					</section>
				</section>
				
				<section>
					<section>
						<h2>Parsing and formatting</h2>
						<p>
							D3 provides built-in support for parsing comma-separated values and tab-separated values.
						</p>
						<p>
							Tabular formats are often more <strong>space-efficient</strong> than JSON, which can improve loading times for large datasets.
						</p>
					</section>
					<section>
						<h2>CSV or JSON?</h2>
						<p>
							<strong>sample.json</strong> (4 212 bytes)
						</p>
						<pre><code class="javascript">[{"date":"Jun 2000","price":1454.6},
{"date":"Jul 2000","price":1430.83},
{"date":"Aug 2000","price":1517.68},
{"date":"Sep 2000","price":1436.51},
{"date":"Oct 2000","price":1429.4},
...</code></pre>
						<p>
							<strong>sample.csv</strong> (2 007 bytes)
						</p>
						<pre><code class="ini">date,price
Jan 2000,1394.46
Feb 2000,1366.42
Mar 2000,1498.58
Apr 2000,1452.43
...</code></pre>
					</section>
				</section>
				
				<section>
					<section>
						<h2>Shapes</h2>
						<p>
							D3 oferuje szereg generatorów dla podstawowych kszałtów.
						</p>
						<p>
							Lines, areas, arcs or symbols are used often.
						</p>
					</section>
					<section>
						<h2>Line generator</h2>
						<pre class="fragment visible"><code class="javascript">var line = d3.svg.line()
    .x(function(d, i) { return xScale(i); })
    .y(function(d) { return yScale(d); });

svg.append('path')
    .data(dataset)
    .attr('d', line(dataset));</code></pre>
    					<object class="fragment" data-fragment-index="1" data="../demos/circles/shapes.html" type="text/html" width="960" height="500">
						</object>
    				</section>
    				<section>
						<h2>Area generator</h2>
						<pre class="fragment visisble"><code class="javascript">var area = d3.svg.area()
    .x(function(d, i) { return xScale(i); })
    .y0(height + margin.top)
    .y1(function(d) { return yScale(d); });

svg.append('path')
    .data(dataset)
    .attr('d', area(dataset));</code></pre>
    					<object class="fragment" data-fragment-index="1" data="../demos/circles/shapes2.html" type="text/html" width="960" height="500">
						</object>
    				</section>
				</section>
				
				<section>
					<section>
						<h2>Layputs</h2>
						<p>
							D3 layouts don't draw your graphs for you. They just do heavy data lifting.
						</p>
					</section>
					<section>
						<h2>Posibilities</h2>
						<p>
							Bundle, Chord, Cluster, Force, Hierarchy, Histogram, Pack, Partition, Pie, Stack, Tree, Treemap
						</p>
					</section>-->
					<section>
						<h2>Pie chart</h2>
						<object data="../examples/pie/index.html" type="text/html" width="960" height="500">
						</object>
					</section>
					<section>
						<h2>Partition</h2>
						<object data="../examples/partition/index.html" type="text/html" width="960" height="500">
						</object>
					</section>
					<section>
						<h2>Treemap</h2>
						<object data="../examples/treemap/index.html" type="text/html" width="960" height="500">
						</object>
					</section>
					<section>
						<h2>Pack</h2>
						<object data="../examples/pack/index.html" type="text/html" width="960" height="500">
						</object>
					</section>
				</section>
				
				<section>
					<section>
						<h2>Geography</h2>
						<p>
							Projections are very useful for visualizations.
						</p>
					</section>
					<section>
						<object data="../examples/projections/index.html" type="text/html" width="960" height="500">
						</object>
					</section>
					<section>
						<object data="../examples/world-map/index.html" type="text/html" width="960" height="500">
						</object>
					</section>
				</section>
				
				<section>
					<section>
						<h2>Behaviors</h2>
						<p>
							Interactive visualizations shows more than static images.
						</p>
					</section>
					<section>
						<object data="../examples/particles/index.html" type="text/html" width="960" height="500">
						</object>
					</section>
					<section>
						<object data="../examples/panning/index.html" type="text/html" width="960" height="500">
						</object>
					</section>
				</section>
				
				<section>
					<h1>Examples</h1>
				</section>
				
				<section>
					<h2>Arc Clock</h2>
					<object data="../examples/clock/index.html" type="text/html" width="960" height="500">
					</object>
				</section>
				
				<section>
					<object data="../examples/voronoi/index.html" type="text/html" width="960" height="500">
					</object>
				</section>
				
				<section>
					<h2>Build own graph!</h2>
					<object data="../examples/graph/index.html" type="text/html" width="960" height="500">
					</object>
				</section>
					
				<section data-state="whiteout">
					<object data="../examples/koalas/index.html" type="text/html" width="960" height="640">
					</object>
				</section>
				
				<section>
					<h2>More examples</h2>
					<ul>
						<li><a href="https://github.com/mbostock/d3/wiki/Gallery">https://github.com/mbostock/d3/wiki/Gallery</a></li>
						<li><a href="http://bl.ocks.org/mbostock">http://bl.ocks.org/mbostock</a></li>
						<li><a href="http://bost.ocks.org/mike/">http://bost.ocks.org/mike/</a></li>
				</section>
				
				<section>
					<h2>Summary</h2>
				</section>
				
				<section>
					<h1>The end</h1>
					<h3>Lukasz Adamczuk</h3>
				</section>
				
				<section>
					<h1>Questions</h1>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
				//width: 960,
				width: 1024,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});
			
			Reveal.addEventListener( 'fragmentshown', function( event ) {
			    //alert('aaa');
			} );
			
			Reveal.addEventListener( 'runcode', function() {
			    //alert('runcode');
			    //init();
			    //document.getElementByTagName('button').click();
			}, false );

		</script>

	</body>
</html>
